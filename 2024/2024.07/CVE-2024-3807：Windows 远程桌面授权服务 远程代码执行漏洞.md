# CVE-2024-3807：Windows 远程桌面授权服务 远程代码执行漏洞

## 0x01   漏洞简述

2024 年 7 月，Microsoft 官方发布公告，披露 CVE-2024-38077 Windows Server 远程桌面授权服务 (RDL) 远程代码执行漏洞。在开启了远程桌面授权服务的情况下，由于在解码许可密钥包时，未正确检验解码后的数据长度与缓冲区大小之间的关系，导致攻击者可构造恶意请求利用缓冲区溢出造成远程代码执行。

注：漏洞成因在于 远程桌面授权服务（RDL），非默认开启，且关闭后不影响远程桌面登陆服务（RDP）。

## 0x02   风险等级

| 评定方式  | 等级  |
| ----- | --- |
| 威胁等级  | 高危  |
| 影响面   | 广泛  |
| 攻击者价值 | 高   |
| 利用难度  | 高   |
| 评分    | 7.3 |

## 0x03   漏洞详情

### 披露时间

2024-07-09

### 参考链接

- https://msrc.microsoft.com/update-guide/vulnerability/CVE-2024-38077

## 0x04   修复建议

### 通用修补建议

1. 更新安装 7 月系统补丁，针对无法自动更新补丁的系统，可参考 https://msrc.microsoft.com/update-guide/vulnerability/CVE-2024-38077 。
2. 关闭远程桌面授权服务。该服务默认情况下并未开启。
3. 为防止被利用，建议尽量减少对外直接暴露端口，可利用安全组限制相关机器以及端口仅对可信地址开放。
