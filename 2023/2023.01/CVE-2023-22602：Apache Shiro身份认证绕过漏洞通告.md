# CVE-2023-22602：Apache Shiro身份认证绕过漏洞通告

报告编号：B6-2023-011701

更新日期：2023-01-17

## 0x01  漏洞简述

2023年01月17日，360CERT监测发现`Apache Shiro身份认证绕过漏洞`的漏洞细节在互联网公开，漏洞编号为`CVE-2023-22602`，漏洞等级：`中危`，漏洞评分：`7.0`。

Apache Shiro是一个强大且易用的Java安全框架,主要用于身份验证、授权、凭证验证和会话管理。

## 0x02  风险等级

该漏洞的评定结果如下

| 评定方式    | 等级 |
| ----------- | ---- |
| 威胁等级    | 中危 |
| 影响面      | 广泛 |
| 攻击者价值  | 高   |
| 利用难度    | 低   |
| 360CERT评分 | 7.0  |

## 0x03  漏洞详情

### CVE-2023-22602: Apache Shiro身份认证绕过漏洞

CVE: CVE-2023-22602

组件: Shiro

漏洞类型: 身份认证绕过

影响: 身份认证绕过

简述: 该漏洞存在于Apache Shiro（1.11.0版本之前）中，当受影响的 Apache Shiro版本 与 Spring Boot 2.6+ 一起使用时，因为 Shiro 和 Spring Boot 使用不同的模式匹配策略，攻击者可通过构造恶意的 HTTP 请求，最终导致身份验证绕过。进而访问到原本需要身份验证的资源、管理页面等。

## 0x04  影响版本

| 组件         | 影响版本 | 安全版本  |
| ------------ | -------- | --------- |
| Apache Shiro | < 1.11.0 | >= 1.11.0 |

## 0x05  修复建议

### 通用修补建议

根据`影响版本`中的信息，排查并升级到`安全版本`.

### 临时修补建议

设置以下 Spring Boot 配置值：

```
spring.mvc.pathmatch.matching-strategy = ant_path_matcher
```